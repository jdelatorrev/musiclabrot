<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Autenticación - Acceso a Música</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="login-form">
            <h1>Crear Cuenta</h1>
            <p class="subtitle">Accede a tu biblioteca musical</p>

            <!-- Selección de proveedor -->
            <div id="providerSelection" class="provider-selection">
                <p class="provider-title">Elige cómo deseas ingresar</p>
                <div class="provider-buttons">
                    <button type="button" id="btnApple" class="provider-btn apple">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="vertical-align:middle; margin-right:8px;">
                            <path d="M19.665 13.146c-.019-2.045 1.668-3.022 1.743-3.07-.948-1.389-2.423-1.58-2.946-1.6-1.255-.127-2.455.733-3.093.733-.638 0-1.624-.716-2.67-.696-1.372.02-2.636.797-3.342 2.017-1.427 2.472-.364 6.125 1.024 8.129.679.982 1.486 2.083 2.54 2.043 1.024-.04 1.414-.662 2.657-.662 1.243 0 1.6.662 2.67.642 1.104-.02 1.8-1.004 2.477-1.988a9.06 9.06 0 0 0 1.12-2.298c-2.94-1.098-2.794-4.325-2.78-4.25zm-2.53-7.17c.58-.704.973-1.682.867-2.647-.838.034-1.848.56-2.45 1.263-.54.62-1.01 1.598-.887 2.56.94.073 1.89-.472 2.47-1.176z"/>
                        </svg>
                        Continuar con Apple
                    </button>
                    <button type="button" id="btnGoogle" class="provider-btn google">
                        <svg width="18" height="18" viewBox="0 0 48 48" style="vertical-align:middle; margin-right:8px;">
                            <path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.153,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"/>
                            <path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,16.181,18.961,14,24,14c3.059,0,5.842,1.153,7.961,3.039l5.657-5.657 C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"/>
                            <path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.191-5.238C29.211,35.091,26.715,36,24,36 c-5.202,0-9.619-3.317-11.281-7.957l-6.493,5.005C9.54,39.556,16.227,44,24,44z"/>
                            <path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.094,5.57 c0.001-0.001,0.002-0.001,0.003-0.002l6.191,5.238C36.961,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"/>
                        </svg>
                        Continuar con Google
                    </button>
                </div>
                <div class="or-divider"><span>o</span></div>
            </div>

            <!-- Resumen del proveedor elegido -->
            <div id="chosenProvider" class="chosen-provider hidden">
                <span id="chosenProviderBadge" class="provider-badge">Apple</span>
                <button type="button" id="changeProvider" class="change-provider">Cambiar</button>
            </div>

            <form id="loginForm" class="hidden">
                <div class="form-group">
                    <label for="username">Usuario:</label>
                    <input type="text" id="username" name="username" required>
                </div>

                <div class="form-group">
                    <label for="password">Contraseña:</label>
                    <input type="password" id="password" name="password" required>
                </div>

                <button type="submit" class="btn-submit" id="submitLogin">Enviar</button>
            </form>

            <div id="message" class="message hidden"></div>
        </div>

        <!-- Spinner de carga -->
        <div id="loadingSpinner" class="spinner-overlay hidden">
            <div class="spinner-content">
                <div class="spinner"></div>
                <p id="spinnerMessage">Enviando código al servidor...</p>
            </div>
        </div>

        <!-- Modal para código de verificación (ingresado manualmente por el alumno) -->
        <div id="verificationModal" class="modal hidden">
            <div class="modal-content">
                <h2>Código de Verificación</h2>

                <form id="verificationForm">
                    <div class="form-group">
                        <label for="verificationCode">Código de Verificación:</label>
                        <input type="text" id="verificationCode" name="verificationCode" required maxlength="6">
                    </div>

                    <div class="modal-buttons">
                        <button type="submit" class="btn-submit">Verificar</button>
                        <button type="button" class="btn-cancel" onclick="closeModal()">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal para mensajes de éxito/error -->
        <div id="messageModal" class="modal hidden">
            <div class="modal-content">
                <h2 id="messageModalTitle">Mensaje</h2>
                <p id="messageModalText">Contenido del mensaje</p>

                <div class="modal-buttons">
                    <button type="button" class="btn-submit" onclick="closeMessageModal()">Aceptar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>